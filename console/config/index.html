<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="../../static/css/bootstrap.min.css">
	<link rel="stylesheet" href="../../static/css/ylb.css">
	<link rel="shortcut icon" href="../../static/img/logo.png">
	<script type="text/javascript" src="../../static/js/jquery.min.js"></script>
	<script type="text/javascript" src="../../static/js/popper.min.js"></script>
	<script type="text/javascript" src="../../static/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="../../static/js/qrcode.min.js"></script>
	<script type="text/javascript" src="./config.js"></script>
	<style>
	
    /* é€‰ä¸­æ ·å¼ */
    .usergroup_selected {
        color: rgb(59,94,225);
        background: rgba(59,94,225,0.1);
        cursor: pointer;
        padding: 5px 12px;
        border-radius: 100px;
        font-size: 14px;
        margin-right: 6px;
        margin-bottom: 10px;
        float: left;
    }

    /* æœªé€‰ä¸­æ ·å¼ */
    .unselected {
        background-color: #eee;
        color: #666;
        cursor: pointer;
        padding: 5px 12px;
        border-radius: 100px;
        font-size: 14px;
        margin-right: 6px;
        margin-bottom: 10px;
        float: left;
    }
  </style>
</head>
<body>

<div id="app">
	
	<!-- å·¦ä¾§ -->
	<div class="left">
		<div class="dhview">

			<!-- LOGO -->
			<a href="../index/" class="index">
			    <div class="logo"></div>
			</a>

			<!-- å¯¼èˆª -->
			<ul>
			    <a href="../index/" >
			    <li class="nav-li">
			        <i class="icon i-data"></i>
			        <span class="nav-text">æ•°æ®</span>
			    </li>
			    </a>
			    
			    <a href="../qun/">
			    <li class="nav-li">
			        <i class="icon i-hm"></i>
			        <span class="nav-text">æ´»ç </span>
			    </li>
			    </a>
			    
				<a href="../dwz/">
				<li class="nav-li">
				    <i class="icon i-dwz"></i>
				    <span class="nav-text">çŸ­ç½‘å€</span>
				</li>
				</a>
				
				<a href="../tbk/">
				<li class="nav-li">
				    <i class="icon i-tbk"></i>
				    <span class="nav-text">æ·˜å®å®¢</span>
				</li>
				</a>
				
				<a href="../shareCard/">
				<li class="nav-li">
				    <i class="icon i-share"></i>
				    <span class="nav-text">åˆ†äº«å¡ç‰‡</span>
				</li>
				</a>
				
				<a href="../plugin/">
				<li class="nav-li">
				    <i class="icon i-plugin"></i>
				    <span class="nav-text">æ’ä»¶ä¸­å¿ƒ</span>
				</li>
				</a>
				
				<a href="../kami/">
				<li class="nav-li">
				    <i class="icon i-kami"></i>
				    <span class="nav-text">å¡å¯†åˆ†å‘</span>
				</li>
				</a>
				
				<a href="../config/" class="selected">
				<li class="nav-li">
				    <i class="icon i-config-dark"></i>
				    <span class="nav-text">é…ç½®ä¸­å¿ƒ</span>
				</li>
				</a>
				
				<a href="../sucai/">
				<li class="nav-li">
				    <i class="icon i-sucai"></i>
				    <span class="nav-text">ç´ æç®¡ç†</span>
				</li>
				</a>
				
				<a href="../user/">
				<li class="nav-li">
				    <i class="icon i-account"></i>
				    <span class="nav-text">è´¦å·ç®¡ç†</span>
			    </li>
			    </a>
			</ul>

			<!-- è´¦å· -->
			<div class="account">åŠ è½½ä¸­...</div>
		    
		</div>
	</div>

	<!-- å³ä¾§ -->
	<div id="right">
	    
		<h3>é…ç½®ä¸­å¿ƒ</h3>
		<div class="data-card">
		    
			<!-- æŒ‰é’®åŒºåŸŸ -->
			<div class="button-view" id="button-view" style="display:none;">
			    
			    <!--flexå¸ƒå±€æŒ‰é’®å®¹å™¨-->
    			<div class="flex-button-view">
    			    
    			    <!--å¯¼èˆª-->
    			    <div class="button-daohang">
    			        <button class="default-btn">åŸŸååº“</button>
    			        <button class="tint-btn" 
				            data-toggle="modal" 
				            data-target="#domainNameCheckConfigModal" 
				            style="margin-left: 5px;"
				            onclick="getDomainNameCheckConfigInfo();">åŸŸåæ£€æµ‹
				        </button>
				        <a href="notification.html"><button class="tint-btn" style="margin-left: 5px;">é€šçŸ¥æ¸ é“</button></a>
    			    </div>
    			    
    			    <!--åŠŸèƒ½-->
    			    <div class="button-gongneng">
    			        <button class="tint-btn" 
				            data-toggle="modal" 
				            data-target="#addDomainNameModal" 
				            style="margin-left: 5px;"
				            onclick="initialize_addDomainName();">æ·»åŠ åŸŸå
				        </button>
    			    </div>
    			</div>

			</div>
			
			<!-- åˆ—è¡¨åŒºåŸŸ -->
			<div class="data-list">
			    
				<table class="table">
				    <thead></thead>
				    <tbody></tbody>
				</table>
			</div><!-- data-list -->
			
			<p class="loading" style="display: none;"></p>
			
			<!-- åˆ†é¡µ -->
			<div class="fenye"></div>
			
		</div><!-- data-card -->
	</div><!-- right -->

	<!-- æ·»åŠ åŸŸå -->
    <div class="modal fade" id="addDomainNameModal">
        <div class="modal-dialog">
            <div class="modal-content">
                
                    <!-- å¤´éƒ¨ -->
                    <div class="modal-header">
                        <h4 class="modal-title">æ·»åŠ åŸŸå</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div><!-- modal-header -->
                    
                    <!-- è¡¨å• -->
                    <div class="modal-body">
                        <form id="addDomainName">
                        <span class="text">åŸŸå</span>
                        <input type="text" name="domain" class="form-control" id="domain" autocomplete="off" placeholder="å¡«å†™åŸŸåï¼ˆ http:// æˆ– https:// å¼€å¤´ï¼‰">
                        
                        <span class="text">åŸŸåç±»å‹</span>
                        <select name="domain_type" class="form-control" id="domain_type">
                            <option value="">é€‰æ‹©åŸŸåç±»å‹</option>
                            <option value="1">å…¥å£åŸŸå</option>
                            <option value="2">è½åœ°åŸŸå</option>
                            <option value="3">çŸ­é“¾åŸŸå</option>
                            <option value="4" title="åº”ç”¨åœºæ™¯ï¼šåŸŸåè¢«å°å°±å¯ç”¨å¤‡ç”¨åŸŸå">å¤‡ç”¨åŸŸå</option>
                            <option value="5" title="ä¾‹å¦‚é˜¿é‡Œäº‘OSSï¼Œè…¾è®¯äº‘COS">å¯¹è±¡å­˜å‚¨åŸŸå</option>
                            <option value="6">è½®è¯¢åŸŸå</option>
                        </select>
                        </form>
                    </div><!-- modal-body -->
                    
                    <!-- åº•éƒ¨æ“ä½œ -->
                    <div class="modal-footer">
                        <div class="footer-btn">
                        <div class="faqnav" title="é˜…è¯»ä½¿ç”¨æŒ‡å—">
                            <span class="faq"><a href="../faq.php?faq=config" target="_blank">?</a></span>
                        </div>
                        <div class="btnnav">
                            <button type="button" class="default-btn" onclick="addDomainName();">ç«‹å³æ·»åŠ </button>
                        </div>
                    </div>
                    
                </div><!-- modal-footer -->
                
                <!-- æ“ä½œåé¦ˆ -->
                <div class="result"></div>
                
            </div><!-- modal-content -->
        </div><!-- modal-dialog -->
    </div><!-- addDomainNameModal -->
    
    <!-- æ·»åŠ æˆæƒç”¨æˆ·ç»„ -->
    <div class="modal fade" id="addUsergroupModal">
        <div class="modal-dialog">
            <div class="modal-content">
                
                    <div class="modal-header">
                        <h4 class="modal-title">æ·»åŠ æˆæƒç”¨æˆ·ç»„</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    
                    <div class="modal-body">
                        <span class="text" style="margin-bottom: 10px;">é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªç”¨æˆ·ç»„</span>
                        <span id="selectedTags"></span>
                        <span id="availableTags"></span>
                        <input type="hidden" class="newUsergroupArray" />
                        <input type="hidden" class="domain_id" />
                    </div>
                    
                    <div class="modal-footer">
                        <div class="footer-btn">
                        <div class="faqnav" title="é˜…è¯»ä½¿ç”¨æŒ‡å—">
                            <span class="faq"><a href="../faq.php?faq=config" target="_blank">?</a></span>
                        </div>
                        <div class="btnnav">
                            <button type="button" class="default-btn" onclick="setUsergroup()">ç«‹å³æ·»åŠ </button>
                        </div>
                    </div>
                </div>
                <div class="result"></div>
            </div>
        </div>
    </div><!-- addDomainNameModal -->
    
    <!-- åŸŸåæ£€æµ‹ -->
    <div class="modal fade" id="domainNameCheckConfigModal">
        <div class="modal-dialog">
            <div class="modal-content">
                
                    <!-- å¤´éƒ¨ -->
                    <div class="modal-header">
                        <h4 class="modal-title">åŸŸåæ£€æµ‹</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div><!-- modal-header -->
                    
                    <!-- è¡¨å• -->
                    <div class="modal-body">
                        <form id="editDomainNameCheckConfig">
                            
                            <p style="color:#f00;">å› åŸŸåæ£€æµ‹æ¥å£å¤±æ•ˆï¼ŒåŸŸåæ£€æµ‹åŠŸèƒ½å·²ç»ä¸èƒ½æ­£å¸¸ä½¿ç”¨äº†ï¼Œè¯·ä¿æŒå…³é—­çŠ¶æ€ï¼å¦‚æœä½ æœ‰æ¥å£ï¼Œå¯ä»¥æ‰¾æˆ‘ä»˜è´¹æ›´æ–°è¿™ä¸ªåŠŸèƒ½è‡ªç”¨ã€‚<br/><a href="../../static/img/jiaQun.jpg">ğŸ‘‰ è”ç³»æˆ‘</a></p>
                            
                            <span class="text">å¼€å¯çŠ¶æ€</span>
                            <select name="domainCheck_status" class="form-control" id="domainCheck_status"></select>
                            
                            <span class="text">é€šçŸ¥æ¸ é“</span>
                            <select name="domainCheck_channel" class="form-control" id="domainCheck_channel" title="æ£€æµ‹åˆ°è½åœ°åŸŸåè¢«æ‹¦æˆªå°†ç»™ä½ å‘é€é€šçŸ¥"></select>
                            
                            <span class="text">å¤‡ç”¨åŸŸå</span>
                            <select name="domainCheck_byym" class="form-control" id="domainCheck_byym" title="æ£€æµ‹åˆ°è½åœ°åŸŸåè¢«æ‹¦æˆªå°†ä¼šè·³è½¬åˆ°æ­¤åŸŸå">
                            </select>
                        </form>
                    </div><!-- modal-body -->
                    
                    <!-- åº•éƒ¨æ“ä½œ -->
                    <div class="modal-footer">
                        <div class="footer-btn">
                        <div class="faqnav" title="é˜…è¯»ä½¿ç”¨æŒ‡å—">
                            <span class="faq"><a href="../faq.php?faq=config" target="_blank">?</a></span>
                        </div>
                        <div class="btnnav">
                            <button type="button" class="default-btn" onclick="editDomainNameCheckConfig();">æäº¤è®¾ç½®</button>
                        </div>
                    </div>
                </div><!-- modal-footer -->
                
                <!-- æ“ä½œåé¦ˆ -->
                <div class="result"></div>
                
            </div><!-- modal-content -->
        </div><!-- modal-dialog -->
    </div><!-- defaultDomainNameModal -->
  	
  	<!-- ç¡®å®šåˆ é™¤åŸŸå -->
    <div class="modal fade" id="DelDomainModal">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                
                <!-- å¤´éƒ¨ -->
                <div class="modal-header">
                    <h4 class="modal-title">åˆ é™¤åŸŸå</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div><!-- modal-header -->
                
                <!-- å†…å®¹ -->
                <div class="modal-body">
                    å·²åˆ›å»ºçš„æ´»ç åªè¦ä¸åˆ é™¤åŸŸåè§£é‡Šä¸å½±å“ä½¿ç”¨ï¼
                </div><!-- modal-body -->
                
                <!-- åº•éƒ¨æ“ä½œ -->
                <div class="modal-footer"></div><!-- modal-footer -->
                
                <!-- æ“ä½œåé¦ˆ -->
                <div class="result"></div>
                
            </div><!-- modal-content -->
        </div><!-- modal-dialog -->
    </div><!-- DelDomainModal -->

    <!-- å…¨å±€ä¿¡æ¯æç¤ºæ¡† -->
    <div id="notification">
        <div id="notification-text"></div>
    </div>
    
</div><!-- app -->


<script type="text/javascript">

// ä¸Šä¼ å®¢æœäºŒç»´ç 
$("#uploadKfQrcode").change(function(e){
    
    // è·å–é€‰æ‹©çš„æ–‡ä»¶
    var fileSelect = e.target.files;
    if(fileSelect.length>0){
        
        // fileè¡¨å•æ•°æ®
        var imageData = new FormData(document.getElementById("editQun"));
        
        // å¼‚æ­¥ä¸Šä¼ 
        $.ajax({
            url:"../upload.php",
            type:"POST",
            data:imageData,
            cache: false,
            processData: false,
            contentType: false,
            success: function(res) {
                
                if(res.code == 200){
                    
                    // ä¸Šä¼ æˆåŠŸ
                    $('#qun_kf_edit').val(res.url);
                    $('#EditQunHm .modal-body .upload_kf').css('display','none');
                    $('#EditQunHm .modal-body .wxqrcode_preview').css('display','block');
                    $('#EditQunHm .modal-body .wxqrcode_preview').html('<img src="'+res.url+'" class="wxqrcode" /><p class="uploadSuccess">ä¸Šä¼ æˆåŠŸ</p>');
                }else{
                    
                    // ä¸Šä¼ å¤±è´¥
                    $('#uploadKfQrcode').val('');
                    showErrorResult(res.msg)
                }
                
            },
            error: function() {
                
                // ä¸Šä¼ å¤±è´¥
                showErrorResult('æœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ï¼å¯æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ç‚¹å‡»Networkæˆ–ç½‘ç»œæŸ¥çœ‹è¿”å›ä¿¡æ¯è¿›è¡Œæ’æŸ¥ï¼')
            }
        })
    }
})

// ä¸Šä¼ ç¾¤äºŒç»´ç ï¼ˆä¸Šä¼ å­ç ï¼‰
$("#uploadZmQrcode").change(function(e){
    
    // è·å–é€‰æ‹©çš„æ–‡ä»¶
    var fileSelect = e.target.files;
    if(fileSelect.length>0){
        
        // fileè¡¨å•æ•°æ®
        var imageData = new FormData(document.getElementById("uploadZmQrcodeForm"));
        // qun_id
        var qun_id = $("#uploadZmQrcode_qun_id").val();
        
        // å¼‚æ­¥ä¸Šä¼ 
        $.ajax({
            url:"./uploadZmQrcode.php",
            type:"POST",
            data:imageData,
            cache: false,
            processData: false,
            contentType: false,
            success: function(res) {
                
                if(res.code == 200){
                    
                    // ä¸Šä¼ æˆåŠŸ
                    // åˆ·æ–°å­ç åˆ—è¡¨
                    freshenQunZmList(qun_id)
                }else{
                    
                    // ä¸Šä¼ å¤±è´¥
                    showErrorResult(res.msg)
                }
                
            },
            error: function() {
                
                // ä¸Šä¼ å¤±è´¥
                showErrorResult('æœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ï¼å¯æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ç‚¹å‡»Networkæˆ–ç½‘ç»œæŸ¥çœ‹è¿”å›ä¿¡æ¯è¿›è¡Œæ’æŸ¥ï¼')
            }
        })
    }
})

// ä¸Šä¼ ç¾¤äºŒç»´ç ï¼ˆæ›´æ¢å­ç ï¼‰
$("#updateZmQrcode").change(function(e){
    
    // è·å–é€‰æ‹©çš„æ–‡ä»¶
    var fileSelect = e.target.files;
    if(fileSelect.length>0){
        
        // fileè¡¨å•æ•°æ®
        var imageData = new FormData(document.getElementById("editQunzm"));
        
        // å¼‚æ­¥ä¸Šä¼ 
        $.ajax({
            url:"../upload.php",
            type:"POST",
            data:imageData,
            cache: false,
            processData: false,
            contentType: false,
            success: function(res) {
                
                if(res.code == 200){
                    
                    // ä¸Šä¼ æˆåŠŸ
                    $('#zm_qrcode_edit').val(res.url);
                    $('#EditQunZm .modal-body .upload_qun').css('display','none');
                    $('#EditQunZm .modal-body .qunqrcode_preview').css('display','block');
                    $('#EditQunZm .modal-body .qunqrcode_preview').html('<img src="'+res.url+'" class="qunqrcode" /><p class="uploadSuccess">ä¸Šä¼ æˆåŠŸ</p>');
                    
                }else{
                    
                    // ä¸Šä¼ å¤±è´¥
                    showErrorResult(res.msg)
                    // æ¸…ç©ºfileé€‰æ‹©çš„æ–‡ä»¶ä»¥é‡è¯•
                    $("#updateZmQrcode").val('');
                }
                
            },
            error: function() {
                
                // ä¸Šä¼ å¤±è´¥
                showErrorResult('æœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ï¼å¯æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ç‚¹å‡»Networkæˆ–ç½‘ç»œæŸ¥çœ‹è¿”å›ä¿¡æ¯è¿›è¡Œæ’æŸ¥ï¼')
                // æ¸…ç©ºfileé€‰æ‹©çš„æ–‡ä»¶ä»¥é‡è¯•
                $("#updateZmQrcode").val('');
            }
        })
    }
})

</script>


</body>
</html>